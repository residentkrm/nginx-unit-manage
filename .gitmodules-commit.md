# Стратегия модульных коммитов

## Текущее состояние
- **Тег каркаса**: `skeleton` - базовое состояние приложения
- **Ветка разработки**: `develop` (рекомендуется)

## Как вернуться к каркасу

```bash
# Посмотреть состояние каркаса
git checkout skeleton

# Вернуться к разработке
git checkout develop
```

## Модульная структура проекта

Проект организован по модулям:

### Backend (PHP/Laravel)
- **Actions**: `app/Actions/Unit/` - действия для работы с Unit API
- **Controllers**: `app/Http/Controllers/Unit/` - HTTP контроллеры
- **Models**: `app/Models/` - модели данных
- **Repositories**: `app/Repositories/` - репозитории для работы с данными
- **Services**: `app/Services/` - бизнес-логика
- **Exceptions**: `app/Exceptions/Unit/` - исключения
- **Requests**: `app/Http/Requests/Unit/` - валидация запросов

### Frontend (Vue.js)
- **Views**: `resources/js/views/` - компоненты страниц
- **Components**: `resources/js/components/` - переиспользуемые компоненты
- **Composables**: `resources/js/composables/` - композаблы
- **Router**: `resources/js/router/` - маршрутизация

### Конфигурация
- **Config**: `config/` - конфигурационные файлы
- **Routes**: `routes/` - маршруты приложения
- **Migrations**: `database/migrations/` - миграции БД

## Примеры модульных коммитов

### Коммит одного модуля
```bash
# Actions модуль
git add app/Actions/Unit/
git commit -m "feat: Actions для работы с Unit API

- CreateApplicationAction
- CreateListenerAction
- UpdateApplicationAction
- DeleteApplicationAction
- ToggleApplicationAction"

# Controllers модуль
git add app/Http/Controllers/Unit/
git commit -m "feat: HTTP контроллеры для Unit

- ApplicationController
- ListenerController
- RouteController
- DashboardController"

# Models модуль
git add app/Models/
git commit -m "feat: Models для Unit

- UnitApplication
- UnitListener
- UnitRoute"

# Services модуль
git add app/Services/UnitService.php
git commit -m "feat: UnitService для работы с Unit API"

# Frontend модуль
git add resources/js/views/applications/
git commit -m "feat: Vue компоненты для Applications

- Index, Create, Edit, Show"
```

### Коммит связанных изменений
```bash
# Backend + Frontend для одного функционала
git add app/Actions/Unit/CreateApplicationAction.php
git add app/Http/Controllers/Unit/ApplicationController.php
git add resources/js/views/applications/Create.vue
git commit -m "feat: создание Application

- Action для создания
- Controller endpoint
- Vue форма создания"
```

### Коммит конфигурации
```bash
git add config/unit.php
git add routes/web.php routes/api.php
git commit -m "config: настройка Unit API и маршрутов"
```

## Соглашения о коммитах

Используйте префиксы:
- `feat:` - новая функциональность
- `fix:` - исправление бага
- `refactor:` - рефакторинг кода
- `style:` - форматирование, стиль
- `docs:` - документация
- `test:` - тесты
- `config:` - конфигурация
- `chore:` - рутинные задачи

## Работа с ветками

```bash
# Создать ветку для фичи
git checkout -b feature/applications-crud

# После завершения работы
git checkout develop
git merge feature/applications-crud

# Удалить ветку
git branch -d feature/applications-crud
```

## Просмотр изменений относительно каркаса

```bash
# Все изменения
git diff skeleton

# Изменения в конкретном модуле
git diff skeleton -- app/Actions/

# Статистика изменений
git diff --stat skeleton
```


